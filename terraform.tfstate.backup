{"version":4,"terraform_version":"1.10.7","serial":189,"lineage":"a5b0d1a2-ca52-045d-316f-984f04a475f9","outputs":{"cognito_user_pool_client_id":{"value":"403cmns2ivbbjo2atrjefbupi6","type":"string"},"cognito_user_pool_endpoint":{"value":"cognito-idp.us-east-1.amazonaws.com/us-east-1_6xRQ7p6gw","type":"string"},"cognito_user_pool_id":{"value":"us-east-1_6xRQ7p6gw","type":"string"},"dynamodb_lab_results_table":{"value":"healthcare-lab-lab-results","type":"string"},"ec2_portal_public_ip":{"value":"98.84.121.70","type":"string"},"ec2_worker_public_ip":{"value":"3.91.172.164","type":"string"},"http_api_endpoint":{"value":"https://tnxacknu78.execute-api.us-east-1.amazonaws.com","type":"string"},"private_subnet_id":{"value":"subnet-08060d273d50ea476","type":"string"},"public_subnet_id":{"value":"subnet-0bd9b83061bbb25d4","type":"string"},"vpc_id":{"value":"vpc-0d684dc537c424c39","type":"string"}},"resources":[{"mode":"data","type":"aws_availability_zones","name":"available","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"all_availability_zones":null,"exclude_names":null,"exclude_zone_ids":null,"filter":null,"group_names":["us-east-1-zg-1"],"id":"us-east-1","names":["us-east-1a","us-east-1b","us-east-1c","us-east-1d","us-east-1e","us-east-1f"],"state":"available","timeouts":null,"zone_ids":["use1-az1","use1-az2","use1-az4","use1-az6","use1-az3","use1-az5"]},"sensitive_attributes":[]}]},{"mode":"managed","type":"aws_api_gateway_deployment","name":"lab_api_deploy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"canary_settings":[],"created_date":"2025-12-01T00:49:32Z","description":"","execution_arn":"arn:aws:execute-api:us-east-1:804270334491:fxf9w1rbxe/","id":"yrudf4","invoke_url":"https://fxf9w1rbxe.execute-api.us-east-1.amazonaws.com/","rest_api_id":"fxf9w1rbxe","stage_description":null,"stage_name":null,"triggers":null,"variables":null},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_integration.ingest_post","aws_api_gateway_method.ingest_post","aws_api_gateway_resource.api","aws_api_gateway_resource.ingest","aws_api_gateway_resource.v1","aws_api_gateway_rest_api.lab_api","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_lambda_function.ingest","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_api_gateway_integration","name":"ingest_post","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"cache_key_parameters":[],"cache_namespace":"f0v3vl","connection_id":"","connection_type":"INTERNET","content_handling":"","credentials":"","http_method":"POST","id":"agi-fxf9w1rbxe-f0v3vl-POST","integration_http_method":"POST","passthrough_behavior":"WHEN_NO_MATCH","request_parameters":{},"request_templates":{},"resource_id":"f0v3vl","rest_api_id":"fxf9w1rbxe","timeout_milliseconds":29000,"tls_config":[],"type":"AWS_PROXY","uri":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-ingest/invocations"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_method.ingest_post","aws_api_gateway_resource.api","aws_api_gateway_resource.ingest","aws_api_gateway_resource.v1","aws_api_gateway_rest_api.lab_api","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_lambda_function.ingest","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_api_gateway_method","name":"ingest_post","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_key_required":false,"authorization":"NONE","authorization_scopes":[],"authorizer_id":"","http_method":"POST","id":"agm-fxf9w1rbxe-f0v3vl-POST","operation_name":"","request_models":{},"request_parameters":{},"request_validator_id":"","resource_id":"f0v3vl","rest_api_id":"fxf9w1rbxe"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_resource.api","aws_api_gateway_resource.ingest","aws_api_gateway_resource.v1","aws_api_gateway_rest_api.lab_api"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_api_gateway_resource","name":"api","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"m3igbz","parent_id":"juvn5io425","path":"/api","path_part":"api","rest_api_id":"fxf9w1rbxe"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_rest_api.lab_api"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_api_gateway_resource","name":"ingest","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"f0v3vl","parent_id":"3mim9o","path":"/api/v1/ingest","path_part":"ingest","rest_api_id":"fxf9w1rbxe"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_resource.api","aws_api_gateway_resource.v1","aws_api_gateway_rest_api.lab_api"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_api_gateway_resource","name":"v1","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"3mim9o","parent_id":"m3igbz","path":"/api/v1","path_part":"v1","rest_api_id":"fxf9w1rbxe"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_resource.api","aws_api_gateway_rest_api.lab_api"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_api_gateway_rest_api","name":"lab_api","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_key_source":"HEADER","arn":"arn:aws:apigateway:us-east-1::/restapis/fxf9w1rbxe","binary_media_types":[],"body":null,"created_date":"2025-11-30T23:55:42Z","description":"","disable_execute_api_endpoint":false,"endpoint_configuration":[{"ip_address_type":"ipv4","types":["EDGE"],"vpc_endpoint_ids":[]}],"execution_arn":"arn:aws:execute-api:us-east-1:804270334491:fxf9w1rbxe","fail_on_warnings":null,"id":"fxf9w1rbxe","minimum_compression_size":"","name":"healthcare-lab-api","parameters":null,"policy":"","put_rest_api_mode":null,"root_resource_id":"juvn5io425","tags":{},"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA==","create_before_destroy":true}]},{"mode":"managed","type":"aws_api_gateway_stage","name":"lab_api_stage","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"access_log_settings":[],"arn":"arn:aws:apigateway:us-east-1::/restapis/fxf9w1rbxe/stages/prod","cache_cluster_enabled":false,"cache_cluster_size":"","canary_settings":[],"client_certificate_id":"","deployment_id":"yrudf4","description":"","documentation_version":"","execution_arn":"arn:aws:execute-api:us-east-1:804270334491:fxf9w1rbxe/prod","id":"ags-fxf9w1rbxe-prod","invoke_url":"https://fxf9w1rbxe.execute-api.us-east-1.amazonaws.com/prod","rest_api_id":"fxf9w1rbxe","stage_name":"prod","tags":{},"tags_all":{},"variables":{},"web_acl_arn":"","xray_tracing_enabled":false},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_deployment.lab_api_deploy","aws_api_gateway_integration.ingest_post","aws_api_gateway_method.ingest_post","aws_api_gateway_resource.api","aws_api_gateway_resource.ingest","aws_api_gateway_resource.v1","aws_api_gateway_rest_api.lab_api","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_lambda_function.ingest","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"]}]},{"mode":"managed","type":"aws_apigatewayv2_api","name":"lab_http_api","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_endpoint":"https://tnxacknu78.execute-api.us-east-1.amazonaws.com","api_key_selection_expression":"$request.header.x-api-key","arn":"arn:aws:apigateway:us-east-1::/apis/tnxacknu78","body":null,"cors_configuration":[],"credentials_arn":null,"description":"","disable_execute_api_endpoint":false,"execution_arn":"arn:aws:execute-api:us-east-1:804270334491:tnxacknu78","fail_on_warnings":null,"id":"tnxacknu78","ip_address_type":"ipv4","name":"healthcare-lab-http-api","protocol_type":"HTTP","route_key":null,"route_selection_expression":"$request.method $request.path","tags":{"Environment":"dev","Name":"healthcare-lab-http-api","Purpose":"LabSecureHTTPAPI"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-http-api","Purpose":"LabSecureHTTPAPI"},"target":null,"version":""},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_apigatewayv2_integration","name":"lab_ingest_integration","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_id":"tnxacknu78","connection_id":"","connection_type":"INTERNET","content_handling_strategy":"","credentials_arn":"","description":"","id":"7ipgg9m","integration_method":"POST","integration_response_selection_expression":"","integration_subtype":"","integration_type":"AWS_PROXY","integration_uri":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-ingest","passthrough_behavior":"","payload_format_version":"2.0","request_parameters":{},"request_templates":{},"response_parameters":[],"template_selection_expression":"","timeout_milliseconds":30000,"tls_config":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_apigatewayv2_api.lab_http_api","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_lambda_function.ingest","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"]}]},{"mode":"managed","type":"aws_apigatewayv2_route","name":"proxy_route","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"api_id":"tnxacknu78","api_key_required":false,"authorization_scopes":[],"authorization_type":"NONE","authorizer_id":"","id":"o5o6sxr","model_selection_expression":"","operation_name":"","request_models":{},"request_parameter":[],"route_key":"ANY /{proxy+}","route_response_selection_expression":"","target":"integrations/7ipgg9m"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_apigatewayv2_api.lab_http_api","aws_apigatewayv2_integration.lab_ingest_integration","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_lambda_function.ingest","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"]}]},{"mode":"managed","type":"aws_apigatewayv2_stage","name":"default","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"access_log_settings":[],"api_id":"tnxacknu78","arn":"arn:aws:apigateway:us-east-1::/apis/tnxacknu78/stages/$default","auto_deploy":true,"client_certificate_id":"","default_route_settings":[{"data_trace_enabled":false,"detailed_metrics_enabled":false,"logging_level":"","throttling_burst_limit":0,"throttling_rate_limit":0}],"deployment_id":"j7ejtg","description":"","execution_arn":"arn:aws:execute-api:us-east-1:804270334491:tnxacknu78/$default","id":"$default","invoke_url":"https://tnxacknu78.execute-api.us-east-1.amazonaws.com/","name":"$default","route_settings":[],"stage_variables":{},"tags":{"Environment":"dev","Name":"healthcare-lab-http-api-default-stage"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-http-api-default-stage"}},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_apigatewayv2_api.lab_http_api"]}]},{"mode":"managed","type":"aws_cloudwatch_event_rule","name":"data_lifecycle_daily","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:events:us-east-1:804270334491:rule/healthcare-lab-data-lifecycle-daily","description":"Ejecuta Lambda de data lifecycle 1 vez al d√≠a","event_bus_name":"default","event_pattern":null,"force_destroy":false,"id":"healthcare-lab-data-lifecycle-daily","is_enabled":true,"name":"healthcare-lab-data-lifecycle-daily","name_prefix":"","role_arn":"","schedule_expression":"rate(1 day)","state":"ENABLED","tags":{"Environment":"dev"},"tags_all":{"Environment":"dev"}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"aws_cloudwatch_event_target","name":"data_lifecycle_target","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"appsync_target":[],"arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-data-lifecycle","batch_target":[],"dead_letter_config":[],"ecs_target":[],"event_bus_name":"default","force_destroy":false,"http_target":[],"id":"healthcare-lab-data-lifecycle-daily-lambda-data-lifecycle","input":"","input_path":"","input_transformer":[],"kinesis_target":[],"redshift_target":[],"retry_policy":[],"role_arn":"","rule":"healthcare-lab-data-lifecycle-daily","run_command_targets":[],"sagemaker_pipeline_target":[],"sqs_target":[],"target_id":"lambda-data-lifecycle"},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==","dependencies":["aws_cloudwatch_event_rule.data_lifecycle_daily","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_data_lifecycle_role","aws_lambda_function.data_lifecycle"]}]},{"mode":"managed","type":"aws_cloudwatch_log_group","name":"lambda_report","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:logs:us-east-1:804270334491:log-group:/aws/lambda/healthcare-lab-report","id":"/aws/lambda/healthcare-lab-report","kms_key_id":"","log_group_class":"STANDARD","name":"/aws/lambda/healthcare-lab-report","name_prefix":"","retention_in_days":14,"skip_destroy":false,"tags":{},"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_cloudwatch_log_group","name":"portal","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:logs:us-east-1:804270334491:log-group:/ecs/healthcare-lab-portal","id":"/ecs/healthcare-lab-portal","kms_key_id":"","log_group_class":"STANDARD","name":"/ecs/healthcare-lab-portal","name_prefix":"","retention_in_days":14,"skip_destroy":false,"tags":{},"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_cloudwatch_log_group","name":"processor","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:logs:us-east-1:804270334491:log-group:/ecs/healthcare-lab-processor","id":"/ecs/healthcare-lab-processor","kms_key_id":"","log_group_class":"STANDARD","name":"/ecs/healthcare-lab-processor","name_prefix":"","retention_in_days":14,"skip_destroy":false,"tags":{},"tags_all":{}},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_cognito_user_pool","name":"labsecure_user_pool","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"account_recovery_setting":[{"recovery_mechanism":[{"name":"verified_email","priority":1},{"name":"verified_phone_number","priority":2}]}],"admin_create_user_config":[{"allow_admin_create_user_only":false,"invite_message_template":[]}],"alias_attributes":null,"arn":"arn:aws:cognito-idp:us-east-1:804270334491:userpool/us-east-1_6xRQ7p6gw","auto_verified_attributes":["email"],"creation_date":"2025-12-02T14:37:36Z","custom_domain":"","deletion_protection":"INACTIVE","device_configuration":[],"domain":"","email_configuration":[{"configuration_set":"","email_sending_account":"COGNITO_DEFAULT","from_email_address":"","reply_to_email_address":"","source_arn":""}],"email_mfa_configuration":[],"email_verification_message":"","email_verification_subject":"","endpoint":"cognito-idp.us-east-1.amazonaws.com/us-east-1_6xRQ7p6gw","estimated_number_of_users":0,"id":"us-east-1_6xRQ7p6gw","lambda_config":[],"last_modified_date":"2025-12-02T14:37:36Z","mfa_configuration":"OFF","name":"healthcare-lab-user-pool","password_policy":[{"minimum_length":8,"password_history_size":0,"require_lowercase":true,"require_numbers":true,"require_symbols":false,"require_uppercase":true,"temporary_password_validity_days":7}],"schema":[{"attribute_data_type":"String","developer_only_attribute":false,"mutable":true,"name":"email","number_attribute_constraints":[],"required":true,"string_attribute_constraints":[{"max_length":"128","min_length":"5"}]},{"attribute_data_type":"String","developer_only_attribute":false,"mutable":true,"name":"name","number_attribute_constraints":[],"required":false,"string_attribute_constraints":[{"max_length":"64","min_length":"1"}]}],"sign_in_policy":[{"allowed_first_auth_factors":["PASSWORD"]}],"sms_authentication_message":"","sms_configuration":[],"sms_verification_message":"","software_token_mfa_configuration":[],"tags":{"Project":"healthcare-lab","Role":"auth"},"tags_all":{"Project":"healthcare-lab","Role":"auth"},"user_attribute_update_settings":[],"user_pool_add_ons":[],"user_pool_tier":"ESSENTIALS","username_attributes":[],"username_configuration":[],"verification_message_template":[{"default_email_option":"CONFIRM_WITH_CODE","email_message":"","email_message_by_link":"","email_subject":"","email_subject_by_link":"","sms_message":""}],"web_authn_configuration":[]},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_cognito_user_pool_client","name":"labsecure_user_pool_client","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"access_token_validity":60,"allowed_oauth_flows":["code"],"allowed_oauth_flows_user_pool_client":true,"allowed_oauth_scopes":["email","openid","profile"],"analytics_configuration":[],"auth_session_validity":3,"callback_urls":["http://localhost:8080/callback"],"client_secret":"","default_redirect_uri":"","enable_propagate_additional_user_context_data":false,"enable_token_revocation":true,"explicit_auth_flows":["ALLOW_REFRESH_TOKEN_AUTH","ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH"],"generate_secret":false,"id":"403cmns2ivbbjo2atrjefbupi6","id_token_validity":60,"logout_urls":["http://localhost:8080/"],"name":"healthcare-lab-portal-client","prevent_user_existence_errors":"","read_attributes":[],"refresh_token_rotation":[],"refresh_token_validity":30,"supported_identity_providers":["COGNITO"],"token_validity_units":[{"access_token":"minutes","id_token":"minutes","refresh_token":"days"}],"user_pool_id":"us-east-1_6xRQ7p6gw","write_attributes":[]},"sensitive_attributes":[[{"type":"get_attr","value":"client_secret"}]],"dependencies":["aws_cognito_user_pool.labsecure_user_pool"]}]},{"mode":"managed","type":"aws_dynamodb_table","name":"access_audit","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit","attribute":[{"name":"actor_id","type":"S"},{"name":"audit_id","type":"S"},{"name":"patient_id","type":"S"},{"name":"timestamp","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[{"hash_key":"actor_id","name":"by_actor","non_key_attributes":[],"on_demand_throughput":[],"projection_type":"ALL","range_key":"","read_capacity":0,"write_capacity":0},{"hash_key":"patient_id","name":"by_patient","non_key_attributes":[],"on_demand_throughput":[],"projection_type":"ALL","range_key":"","read_capacity":0,"write_capacity":0}],"hash_key":"audit_id","id":"healthcare-lab-access-audit","import_table":[],"local_secondary_index":[],"name":"healthcare-lab-access-audit","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":"timestamp","read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"Environment":"dev","Name":"healthcare-lab-access-audit","Purpose":"Audit"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-access-audit","Purpose":"Audit"},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":0},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","create_before_destroy":true}]},{"mode":"managed","type":"aws_dynamodb_table","name":"lab_results","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-lab-results","attribute":[{"name":"patient_id","type":"S"},{"name":"result_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"result_id","id":"healthcare-lab-lab-results","import_table":[],"local_secondary_index":[],"name":"healthcare-lab-lab-results","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":"patient_id","read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"Environment":"dev","Name":"healthcare-lab-lab-results","Purpose":"LabResults"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-lab-results","Purpose":"LabResults"},"timeouts":null,"ttl":[{"attribute_name":"ttl_epoch","enabled":true}],"write_capacity":0},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","create_before_destroy":true}]},{"mode":"managed","type":"aws_dynamodb_table","name":"patients","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-patients","attribute":[{"name":"patient_id","type":"S"}],"billing_mode":"PAY_PER_REQUEST","deletion_protection_enabled":false,"global_secondary_index":[],"hash_key":"patient_id","id":"healthcare-lab-patients","import_table":[],"local_secondary_index":[],"name":"healthcare-lab-patients","on_demand_throughput":[],"point_in_time_recovery":[{"enabled":false,"recovery_period_in_days":0}],"range_key":null,"read_capacity":0,"replica":[],"restore_date_time":null,"restore_source_name":null,"restore_source_table_arn":null,"restore_to_latest_time":null,"server_side_encryption":[],"stream_arn":"","stream_enabled":false,"stream_label":"","stream_view_type":"","table_class":"STANDARD","tags":{"Environment":"dev","Name":"healthcare-lab-patients","Purpose":"Patients"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-patients","Purpose":"Patients"},"timeouts":null,"ttl":[{"attribute_name":"","enabled":false}],"write_capacity":0},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjozNjAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0="}]},{"mode":"managed","type":"aws_eip","name":"nat","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"address":null,"allocation_id":"eipalloc-06611996febc8afa0","arn":"arn:aws:ec2:us-east-1:804270334491:elastic-ip/eipalloc-06611996febc8afa0","associate_with_private_ip":null,"association_id":"eipassoc-052e79d193320d49f","carrier_ip":"","customer_owned_ip":"","customer_owned_ipv4_pool":"","domain":"vpc","id":"eipalloc-06611996febc8afa0","instance":"","ipam_pool_id":null,"network_border_group":"us-east-1","network_interface":"eni-057d1e829348d9164","private_dns":"ip-10-0-1-133.ec2.internal","private_ip":"10.0.1.133","ptr_record":"","public_dns":"ec2-18-209-217-238.compute-1.amazonaws.com","public_ip":"18.209.217.238","public_ipv4_pool":"amazon","tags":{"Name":"healthcare-lab-nat-eip"},"tags_all":{"Name":"healthcare-lab-nat-eip"},"timeouts":null,"vpc":true},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiZGVsZXRlIjoxODAwMDAwMDAwMDAsInJlYWQiOjkwMDAwMDAwMDAwMCwidXBkYXRlIjozMDAwMDAwMDAwMDB9fQ=="}]},{"mode":"managed","type":"aws_iam_role","name":"lambda_data_lifecycle_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-data-lifecycle-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-12-02T11:36:22Z","description":"","force_detach_policies":false,"id":"healthcare-lab-lambda-data-lifecycle-role","inline_policy":[{"name":"healthcare-lab-lambda-data-lifecycle-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"dynamodb:Scan\",\"dynamodb:UpdateItem\",\"dynamodb:PutItem\",\"dynamodb:GetItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-lab-results\",\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}]}"}],"managed_policy_arns":[],"max_session_duration":3600,"name":"healthcare-lab-lambda-data-lifecycle-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{"Environment":"dev","Name":"healthcare-lab-lambda-data-lifecycle-role"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-lambda-data-lifecycle-role"},"unique_id":"AROA3WQR7MINTBJQI6PPG"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role","name":"lambda_ingest_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-ingest-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:55:41Z","description":"","force_detach_policies":false,"id":"healthcare-lab-lambda-ingest-role","inline_policy":[{"name":"healthcare-lab-lambda-ingest-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::healthcare-lab-lab-results-xqcn0m/*\"]},{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-lab-results-queue\"]},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:Query\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-lab-results\"]},{\"Action\":[\"dynamodb:PutItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"healthcare-lab-lambda-ingest-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROA3WQR7MIN4MIFRAFXJ"},"sensitive_attributes":[],"private":"bnVsbA==","create_before_destroy":true}]},{"mode":"managed","type":"aws_iam_role","name":"lambda_notify_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-notify-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:55:41Z","description":"","force_detach_policies":false,"id":"healthcare-lab-lambda-notify-role","inline_policy":[{"name":"healthcare-lab-lambda-notify-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-patients\",\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"sns:Publish\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sns:us-east-1:804270334491:healthcare-lab-lab-results-ready\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-notify-queue\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"healthcare-lab-lambda-notify-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROA3WQR7MINSRK5ZNNV3"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role","name":"lambda_report_role","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-report-role","assume_role_policy":"{\"Statement\":[{\"Action\":\"sts:AssumeRole\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"lambda.amazonaws.com\"}}],\"Version\":\"2012-10-17\"}","create_date":"2025-11-30T23:55:41Z","description":"","force_detach_policies":false,"id":"healthcare-lab-lambda-report-role","inline_policy":[{"name":"healthcare-lab-lambda-report-policy","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-lab-results\",\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::healthcare-lab-lab-results-xqcn0m/*\"}]}"}],"managed_policy_arns":["arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"],"max_session_duration":3600,"name":"healthcare-lab-lambda-report-role","name_prefix":"","path":"/","permissions_boundary":"","tags":{},"tags_all":{},"unique_id":"AROA3WQR7MINRVXWSN4QE"},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_iam_role_policy","name":"lambda_data_lifecycle_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"healthcare-lab-lambda-data-lifecycle-role:healthcare-lab-lambda-data-lifecycle-policy","name":"healthcare-lab-lambda-data-lifecycle-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"dynamodb:Scan\",\"dynamodb:UpdateItem\",\"dynamodb:PutItem\",\"dynamodb:GetItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-lab-results\",\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}]}","role":"healthcare-lab-lambda-data-lifecycle-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_data_lifecycle_role"]}]},{"mode":"managed","type":"aws_iam_role_policy","name":"lambda_ingest_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"healthcare-lab-lambda-ingest-role:healthcare-lab-lambda-ingest-policy","name":"healthcare-lab-lambda-ingest-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"s3:PutObject\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:s3:::healthcare-lab-lab-results-xqcn0m/*\"]},{\"Action\":[\"sqs:SendMessage\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-lab-results-queue\"]},{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:Query\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-lab-results\"]},{\"Action\":[\"dynamodb:PutItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"logs:CreateLogGroup\",\"logs:CreateLogStream\",\"logs:PutLogEvents\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:logs:*:*:*\"}]}","role":"healthcare-lab-lambda-ingest-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"]}]},{"mode":"managed","type":"aws_iam_role_policy","name":"lambda_notify_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"healthcare-lab-lambda-notify-role:healthcare-lab-lambda-notify-policy","name":"healthcare-lab-lambda-notify-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-patients\",\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"sns:Publish\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sns:us-east-1:804270334491:healthcare-lab-lab-results-ready\"},{\"Action\":[\"sqs:ReceiveMessage\",\"sqs:DeleteMessage\",\"sqs:GetQueueAttributes\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-notify-queue\"}]}","role":"healthcare-lab-lambda-notify-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.patients","aws_iam_role.lambda_notify_role","aws_sns_topic.lab_results_ready","aws_sqs_queue.notify_dlq","aws_sqs_queue.notify_queue"]}]},{"mode":"managed","type":"aws_iam_role_policy","name":"lambda_report_policy","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"healthcare-lab-lambda-report-role:healthcare-lab-lambda-report-policy","name":"healthcare-lab-lambda-report-policy","name_prefix":"","policy":"{\"Version\":\"2012-10-17\",\"Statement\":[{\"Action\":[\"dynamodb:GetItem\",\"dynamodb:PutItem\"],\"Effect\":\"Allow\",\"Resource\":[\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-lab-results\",\"arn:aws:dynamodb:us-east-1:804270334491:table/healthcare-lab-access-audit\"]},{\"Action\":[\"s3:PutObject\",\"s3:GetObject\"],\"Effect\":\"Allow\",\"Resource\":\"arn:aws:s3:::healthcare-lab-lab-results-xqcn0m/*\"}]}","role":"healthcare-lab-lambda-report-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_report_role"]}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_ingest_basic","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"healthcare-lab-lambda-ingest-role-20251130235542752700000001","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"healthcare-lab-lambda-ingest-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.lambda_ingest_role"]}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_notify_basic","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"healthcare-lab-lambda-notify-role-20251130235542752900000002","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"healthcare-lab-lambda-notify-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.lambda_notify_role"]}]},{"mode":"managed","type":"aws_iam_role_policy_attachment","name":"lambda_report_basic","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"id":"healthcare-lab-lambda-report-role-20251130235542993000000003","policy_arn":"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole","role":"healthcare-lab-lambda-report-role"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_iam_role.lambda_report_role"]}]},{"mode":"managed","type":"aws_instance","name":"ec2_portal","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-06aa3f7caf3a30282","arn":"arn:aws:ec2:us-east-1:804270334491:instance/i-04989391f4b3c8cc1","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-04989391f4b3c8cc1","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"healthcare-lab-worker-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-05a913537e3df753c","private_dns":"ip-10-0-1-118.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.118","public_dns":"ec2-98-84-121-70.compute-1.amazonaws.com","public_ip":"98.84.121.70","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0130205203df0d25c","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0bd9b83061bbb25d4","tags":{"Name":"healthcare-lab-ec2-portal"},"tags_all":{"Name":"healthcare-lab-ec2-portal"},"tenancy":"default","timeouts":null,"user_data":"825c23c79ea341cb1a43ac5626a3558916922539","user_data_base64":null,"user_data_replace_on_change":true,"volume_tags":null,"vpc_security_group_ids":["sg-08c0e0cc4fc3fb004"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_dynamodb_table.patients","aws_iam_role.lambda_report_role","aws_iam_role_policy.lambda_report_policy","aws_key_pair.worker_key","aws_lambda_function.report","aws_security_group.ec2_portal_sg","aws_subnet.public_1","aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_instance","name":"worker","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"ami":"ami-06aa3f7caf3a30282","arn":"arn:aws:ec2:us-east-1:804270334491:instance/i-0f11af3a955c572fa","associate_public_ip_address":true,"availability_zone":"us-east-1a","capacity_reservation_specification":[{"capacity_reservation_preference":"open","capacity_reservation_target":[]}],"cpu_core_count":1,"cpu_options":[{"amd_sev_snp":"","core_count":1,"threads_per_core":2}],"cpu_threads_per_core":2,"credit_specification":[{"cpu_credits":"unlimited"}],"disable_api_stop":false,"disable_api_termination":false,"ebs_block_device":[],"ebs_optimized":false,"enable_primary_ipv6":null,"enclave_options":[{"enabled":false}],"ephemeral_block_device":[],"get_password_data":false,"hibernation":false,"host_id":"","host_resource_group_arn":null,"iam_instance_profile":"","id":"i-0f11af3a955c572fa","instance_initiated_shutdown_behavior":"stop","instance_lifecycle":"","instance_market_options":[],"instance_state":"running","instance_type":"t3.micro","ipv6_address_count":0,"ipv6_addresses":[],"key_name":"healthcare-lab-worker-key","launch_template":[],"maintenance_options":[{"auto_recovery":"default"}],"metadata_options":[{"http_endpoint":"enabled","http_protocol_ipv6":"disabled","http_put_response_hop_limit":1,"http_tokens":"optional","instance_metadata_tags":"disabled"}],"monitoring":false,"network_interface":[],"outpost_arn":"","password_data":"","placement_group":"","placement_partition_number":0,"primary_network_interface_id":"eni-063c371f4c74e298f","private_dns":"ip-10-0-1-224.ec2.internal","private_dns_name_options":[{"enable_resource_name_dns_a_record":false,"enable_resource_name_dns_aaaa_record":false,"hostname_type":"ip-name"}],"private_ip":"10.0.1.224","public_dns":"ec2-3-91-172-164.compute-1.amazonaws.com","public_ip":"3.91.172.164","root_block_device":[{"delete_on_termination":true,"device_name":"/dev/sda1","encrypted":false,"iops":100,"kms_key_id":"","tags":{},"tags_all":{},"throughput":0,"volume_id":"vol-0cbfa955bcfa363f3","volume_size":8,"volume_type":"gp2"}],"secondary_private_ips":[],"security_groups":[],"source_dest_check":true,"spot_instance_request_id":"","subnet_id":"subnet-0bd9b83061bbb25d4","tags":{"Name":"healthcare-lab-ec2-worker"},"tags_all":{"Name":"healthcare-lab-ec2-worker"},"tenancy":"default","timeouts":null,"user_data":"544a6da207bf235bc93dfd4818caf4c1f92b1358","user_data_base64":null,"user_data_replace_on_change":true,"volume_tags":null,"vpc_security_group_ids":["sg-0c4aaa7c3ec87e3c4"]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMCwicmVhZCI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_key_pair.worker_key","aws_security_group.ec2_worker_sg","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue","aws_sqs_queue.notify_dlq","aws_sqs_queue.notify_queue","aws_subnet.public_1","aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_internet_gateway","name":"igw","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:internet-gateway/igw-0861fd1a97df40edc","id":"igw-0861fd1a97df40edc","owner_id":"804270334491","tags":{"Name":"healthcare-lab-igw"},"tags_all":{"Name":"healthcare-lab-igw"},"timeouts":null,"vpc_id":"vpc-0d684dc537c424c39"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19","dependencies":["aws_vpc.main"]}]},{"mode":"managed","type":"aws_key_pair","name":"worker_key","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:key-pair/healthcare-lab-worker-key","fingerprint":"38:06:a3:e1:76:f9:32:d3:bb:1d:64:24:d6:dd:d9:a8","id":"healthcare-lab-worker-key","key_name":"healthcare-lab-worker-key","key_name_prefix":"","key_pair_id":"key-00790ece0135d8f3b","key_type":"rsa","public_key":"ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC7cJICRzIuPLAwF0hko4kKSK7R8wGQeU3nCOXfy7X4PpS/cV3HCIilGSOgliO1J1ltV9xfsSqkaD0MJQJ5bLIGInF1jHH6eGLn1NOXVRrI7X6FSkptb6GdKwhC416qkOz6UNXKmSxWpV/SCV6MD/Yll3ifOVOl26WGoKv/oN0gDyBL3tAwOmL/0CHoynpd+b10KC+9TPFTHS20ll1N/CiPNpBYEgAPEyVrMpyL0uTJpmsTKo4YpXF6YcfrWzHnzzHzsLxInUnOMmfUwedE9yHsu3LpSlnOSUmuMkTTsdRGv5Q/j9hNiJmQrf/eIzUJTe8+wgoNBCeUOjzwIb+avpQTtZ9jHB5WYIbAgKJAwcC3iyFvsVTavraQGVCb6ZBSGsGoRn6dLdAPqYMZ7OprHa8KJDyMkD6434Hw38kKQkSDi1Y2qa4kig2VCWJ4b8obgnvDYBiPNTwE/LvV1YAbhy9iIkyAhXHA3+EU25gnghKMtlIfrEPMwU2F/FyD/1dHK5U4tBHXAj79OUYheBHdlpYol+rTSbyNLVSydP3QPegPpM1h4kUzfU2XJWiohMKdj/RrpS50euosxMlNWrR1bexEI1cLlvMWteRs4KzKcWJ1MFJtKTwlUW/1hC7zeX0skgHl8TPbYEuaAmXP5R9qDHBP99ZARUZ8SESWYK/yoEGjXw== diego@MacBook-Pro-de-Diego-3.local","tags":null,"tags_all":{}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"aws_lambda_event_source_mapping","name":"notify_sqs_mapping","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"amazon_managed_kafka_event_source_config":[],"arn":"arn:aws:lambda:us-east-1:804270334491:event-source-mapping:3da7a3d8-04df-4270-a2dc-5d205ee0d69a","batch_size":5,"bisect_batch_on_function_error":false,"destination_config":[],"document_db_event_source_config":[],"enabled":true,"event_source_arn":"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-notify-queue","filter_criteria":[],"function_arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-notify","function_name":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-notify","function_response_types":[],"id":"3da7a3d8-04df-4270-a2dc-5d205ee0d69a","kms_key_arn":"","last_modified":"2025-12-01T00:49:41Z","last_processing_result":"","maximum_batching_window_in_seconds":0,"maximum_record_age_in_seconds":0,"maximum_retry_attempts":0,"metrics_config":[],"parallelization_factor":0,"provisioned_poller_config":[],"queues":[],"scaling_config":[],"self_managed_event_source":[],"self_managed_kafka_event_source_config":[],"source_access_configuration":[],"starting_position":"","starting_position_timestamp":"","state":"Enabled","state_transition_reason":"USER_INITIATED","tags":{},"tags_all":{},"topics":[],"tumbling_window_in_seconds":0,"uuid":"3da7a3d8-04df-4270-a2dc-5d205ee0d69a"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.patients","aws_iam_role.lambda_notify_role","aws_lambda_function.notify","aws_sns_topic.lab_results_ready","aws_sqs_queue.notify_dlq","aws_sqs_queue.notify_queue"]}]},{"mode":"managed","type":"aws_lambda_function","name":"data_lifecycle","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-data-lifecycle","code_sha256":"UZvB2aPcHFcg1x7i1AfYjsewIDUhPO9uHeiGr9igSyY=","code_signing_config_arn":"","dead_letter_config":[],"description":"Lambda para manejo de ciclo de vida de datos (HIPAA/GDPR) - Scenario F","environment":[{"variables":{"ACCESS_AUDIT_TABLE":"healthcare-lab-access-audit","LAB_RESULTS_TABLE":"healthcare-lab-lab-results","REGION_NAME":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./lambda/data_lifecycle/data_lifecycle.zip","function_name":"healthcare-lab-data-lifecycle","handler":"app.lambda_handler","id":"healthcare-lab-data-lifecycle","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-data-lifecycle/invocations","kms_key_arn":"","last_modified":"2025-12-02T11:39:00.868+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/healthcare-lab-data-lifecycle","system_log_level":""}],"memory_size":256,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-data-lifecycle:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-data-lifecycle:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-data-lifecycle-role","runtime":"python3.12","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"UZvB2aPcHFcg1x7i1AfYjsewIDUhPO9uHeiGr9igSyY=","source_code_size":1525,"tags":{"Environment":"dev","Name":"healthcare-lab-lambda-data-lifecycle"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-lambda-data-lifecycle"},"timeout":300,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_data_lifecycle_role"]}]},{"mode":"managed","type":"aws_lambda_function","name":"ingest","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-ingest","code_sha256":"8BSdwSsQPoxL+KA7NkBBYo1Z6lkJ9FDDHut6nDtfXgI=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"ACCESS_AUDIT_TABLE":"healthcare-lab-access-audit","LAB_RESULTS_QUEUE_URL":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-lab-results-queue","LAB_RESULTS_TABLE":"healthcare-lab-lab-results","RAW_BUCKET":"healthcare-lab-lab-results-xqcn0m"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./lambda/ingest.zip","function_name":"healthcare-lab-ingest","handler":"app.lambda_handler","id":"healthcare-lab-ingest","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-ingest/invocations","kms_key_arn":"","last_modified":"2025-12-02T12:36:22.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/healthcare-lab-ingest","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-ingest:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-ingest:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-ingest-role","runtime":"python3.11","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"/4HsFHxUv/ooycb+ibtnitLzYLQwX0yYftYZjmME3Gg=","source_code_size":2496,"tags":{},"tags_all":{},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_lambda_function","name":"notify","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-notify","code_sha256":"VWbUG71biC24u1Iw568VF3730hstonsjFnDytm0JFKc=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"ACCESS_AUDIT_TABLE":"healthcare-lab-access-audit","NOTIFY_TOPIC_ARN":"arn:aws:sns:us-east-1:804270334491:healthcare-lab-lab-results-ready","PATIENTS_TABLE":"healthcare-lab-patients","REGION_NAME":"us-east-1"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./lambda/notify.zip","function_name":"healthcare-lab-notify","handler":"app.lambda_handler","id":"healthcare-lab-notify","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-notify/invocations","kms_key_arn":"","last_modified":"2025-12-02T11:39:00.000+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/healthcare-lab-notify","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-notify:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-notify:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-notify-role","runtime":"python3.11","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"VWbUG71biC24u1Iw568VF3730hstonsjFnDytm0JFKc=","source_code_size":967,"tags":{},"tags_all":{},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.patients","aws_iam_role.lambda_notify_role","aws_sns_topic.lab_results_ready"]}]},{"mode":"managed","type":"aws_lambda_function","name":"report","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"architectures":["x86_64"],"arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-report","code_sha256":"nTNA7tUtkOGfC/grmcPUKnSXSuoWXGIWd1PzWQPyhX4=","code_signing_config_arn":"","dead_letter_config":[],"description":"","environment":[{"variables":{"ACCESS_AUDIT_TABLE":"healthcare-lab-access-audit","LAB_RESULTS_TABLE":"healthcare-lab-lab-results","REPORTS_BUCKET":"healthcare-lab-lab-results-xqcn0m"}}],"ephemeral_storage":[{"size":512}],"file_system_config":[],"filename":"./lambda/report.zip","function_name":"healthcare-lab-report","handler":"app.lambda_handler","id":"healthcare-lab-report","image_config":[],"image_uri":"","invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-report/invocations","kms_key_arn":"","last_modified":"2025-11-30T23:55:56.527+0000","layers":[],"logging_config":[{"application_log_level":"","log_format":"Text","log_group":"/aws/lambda/healthcare-lab-report","system_log_level":""}],"memory_size":128,"package_type":"Zip","publish":false,"qualified_arn":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-report:$LATEST","qualified_invoke_arn":"arn:aws:apigateway:us-east-1:lambda:path/2015-03-31/functions/arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-report:$LATEST/invocations","replace_security_groups_on_destroy":null,"replacement_security_group_ids":null,"reserved_concurrent_executions":-1,"role":"arn:aws:iam::804270334491:role/healthcare-lab-lambda-report-role","runtime":"python3.11","s3_bucket":null,"s3_key":null,"s3_object_version":null,"signing_job_arn":"","signing_profile_version_arn":"","skip_destroy":false,"snap_start":[],"source_code_hash":"nTNA7tUtkOGfC/grmcPUKnSXSuoWXGIWd1PzWQPyhX4=","source_code_size":1205,"tags":{},"tags_all":{},"timeout":3,"timeouts":null,"tracing_config":[{"mode":"PassThrough"}],"version":"$LATEST","vpc_config":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19","dependencies":["aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_report_role","aws_iam_role_policy.lambda_report_policy"]}]},{"mode":"managed","type":"aws_lambda_permission","name":"allow_eventbridge_data_lifecycle","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"healthcare-lab-data-lifecycle","function_url_auth_type":null,"id":"AllowExecutionFromEventBridgeDataLifecycle","principal":"events.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:events:us-east-1:804270334491:rule/healthcare-lab-data-lifecycle-daily","statement_id":"AllowExecutionFromEventBridgeDataLifecycle","statement_id_prefix":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_cloudwatch_event_rule.data_lifecycle_daily","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_data_lifecycle_role","aws_lambda_function.data_lifecycle"]}]},{"mode":"managed","type":"aws_lambda_permission","name":"allow_invoke_from_http_api","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"arn:aws:lambda:us-east-1:804270334491:function:healthcare-lab-ingest","function_url_auth_type":null,"id":"AllowExecutionFromHTTPAPI","principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:execute-api:us-east-1:804270334491:tnxacknu78/*/*","statement_id":"AllowExecutionFromHTTPAPI","statement_id_prefix":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_apigatewayv2_api.lab_http_api","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_lambda_function.ingest","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"]}]},{"mode":"managed","type":"aws_lambda_permission","name":"apigw_invoke_ingest","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"action":"lambda:InvokeFunction","event_source_token":null,"function_name":"healthcare-lab-ingest","function_url_auth_type":null,"id":"AllowAPIGatewayInvokeIngest","principal":"apigateway.amazonaws.com","principal_org_id":null,"qualifier":"","source_account":null,"source_arn":"arn:aws:execute-api:us-east-1:804270334491:fxf9w1rbxe/*/*","statement_id":"AllowAPIGatewayInvokeIngest","statement_id_prefix":""},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_api_gateway_rest_api.lab_api","aws_dynamodb_table.access_audit","aws_dynamodb_table.lab_results","aws_iam_role.lambda_ingest_role","aws_lambda_function.ingest","aws_sqs_queue.lab_results_dlq","aws_sqs_queue.lab_results_queue"]}]},{"mode":"managed","type":"aws_nat_gateway","name":"nat","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"allocation_id":"eipalloc-06611996febc8afa0","association_id":"eipassoc-052e79d193320d49f","connectivity_type":"public","id":"nat-0a7407fe651c6bce1","network_interface_id":"eni-057d1e829348d9164","private_ip":"10.0.1.133","public_ip":"18.209.217.238","secondary_allocation_ids":[],"secondary_private_ip_address_count":0,"secondary_private_ip_addresses":[],"subnet_id":"subnet-0bd9b83061bbb25d4","tags":{"Name":"healthcare-lab-nat"},"tags_all":{"Name":"healthcare-lab-nat"},"timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwMCwidXBkYXRlIjo2MDAwMDAwMDAwMDB9fQ==","dependencies":["aws_eip.nat","aws_internet_gateway.igw","aws_subnet.public_1","aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_route_table","name":"private","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:route-table/rtb-06298fa4ac2c2a144","id":"rtb-06298fa4ac2c2a144","owner_id":"804270334491","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"nat-0a7407fe651c6bce1","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"healthcare-lab-private-rt"},"tags_all":{"Name":"healthcare-lab-private-rt"},"timeouts":null,"vpc_id":"vpc-0d684dc537c424c39"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_eip.nat","aws_internet_gateway.igw","aws_nat_gateway.nat","aws_subnet.public_1","aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_route_table","name":"public","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:route-table/rtb-0ee54adffd402ecdf","id":"rtb-0ee54adffd402ecdf","owner_id":"804270334491","propagating_vgws":[],"route":[{"carrier_gateway_id":"","cidr_block":"0.0.0.0/0","core_network_arn":"","destination_prefix_list_id":"","egress_only_gateway_id":"","gateway_id":"igw-0861fd1a97df40edc","ipv6_cidr_block":"","local_gateway_id":"","nat_gateway_id":"","network_interface_id":"","transit_gateway_id":"","vpc_endpoint_id":"","vpc_peering_connection_id":""}],"tags":{"Name":"healthcare-lab-public-rt"},"tags_all":{"Name":"healthcare-lab-public-rt"},"timeouts":null,"vpc_id":"vpc-0d684dc537c424c39"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.igw","aws_vpc.main"]}]},{"mode":"managed","type":"aws_route_table_association","name":"private_assoc_1","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-08f4cc571af97e609","route_table_id":"rtb-06298fa4ac2c2a144","subnet_id":"subnet-08060d273d50ea476","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_eip.nat","aws_internet_gateway.igw","aws_nat_gateway.nat","aws_route_table.private","aws_subnet.private_1","aws_subnet.public_1","aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_route_table_association","name":"public_assoc_1","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"gateway_id":"","id":"rtbassoc-06835baebb1f9e2e5","route_table_id":"rtb-0ee54adffd402ecdf","subnet_id":"subnet-0bd9b83061bbb25d4","timeouts":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDAsImRlbGV0ZSI6MzAwMDAwMDAwMDAwLCJ1cGRhdGUiOjEyMDAwMDAwMDAwMH19","dependencies":["aws_internet_gateway.igw","aws_route_table.public","aws_subnet.public_1","aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_s3_bucket","name":"lab_results","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"acceleration_status":"","acl":null,"arn":"arn:aws:s3:::healthcare-lab-lab-results-xqcn0m","bucket":"healthcare-lab-lab-results-xqcn0m","bucket_domain_name":"healthcare-lab-lab-results-xqcn0m.s3.amazonaws.com","bucket_prefix":"","bucket_regional_domain_name":"healthcare-lab-lab-results-xqcn0m.s3.us-east-1.amazonaws.com","cors_rule":[],"force_destroy":false,"grant":[{"id":"d45d203a5919929f9efa0fc0bdca96b65d2fdd2bce51ff5824366b678e84b893","permissions":["FULL_CONTROL"],"type":"CanonicalUser","uri":""}],"hosted_zone_id":"Z3AQBSTGFYJSTF","id":"healthcare-lab-lab-results-xqcn0m","lifecycle_rule":[],"logging":[],"object_lock_configuration":[],"object_lock_enabled":false,"policy":"","region":"us-east-1","replication_configuration":[],"request_payer":"BucketOwner","server_side_encryption_configuration":[{"rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]}],"tags":{"Name":"healthcare-lab-lab-results"},"tags_all":{"Name":"healthcare-lab-lab-results"},"timeouts":null,"versioning":[{"enabled":true,"mfa_delete":false}],"website":[],"website_domain":null,"website_endpoint":null},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxMjAwMDAwMDAwMDAwLCJkZWxldGUiOjM2MDAwMDAwMDAwMDAsInJlYWQiOjEyMDAwMDAwMDAwMDAsInVwZGF0ZSI6MTIwMDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_s3_bucket_public_access_block","name":"lab_results_block","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"block_public_acls":true,"block_public_policy":true,"bucket":"healthcare-lab-lab-results-xqcn0m","id":"healthcare-lab-lab-results-xqcn0m","ignore_public_acls":true,"restrict_public_buckets":true},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.lab_results"]}]},{"mode":"managed","type":"aws_s3_bucket_server_side_encryption_configuration","name":"lab_results_enc","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"bucket":"healthcare-lab-lab-results-xqcn0m","expected_bucket_owner":"","id":"healthcare-lab-lab-results-xqcn0m","rule":[{"apply_server_side_encryption_by_default":[{"kms_master_key_id":"","sse_algorithm":"AES256"}],"bucket_key_enabled":false}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.lab_results"]}]},{"mode":"managed","type":"aws_s3_bucket_versioning","name":"lab_results_versioning","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"bucket":"healthcare-lab-lab-results-xqcn0m","expected_bucket_owner":"","id":"healthcare-lab-lab-results-xqcn0m","mfa":null,"versioning_configuration":[{"mfa_delete":"","status":"Enabled"}]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["aws_s3_bucket.lab_results"]}]},{"mode":"managed","type":"aws_security_group","name":"ec2_portal_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:security-group/sg-08c0e0cc4fc3fb004","description":"Security group for portal EC2 instance","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-08c0e0cc4fc3fb004","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"HTTP portal (8080)","from_port":8080,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":8080},{"cidr_blocks":["0.0.0.0/0"],"description":"SSH","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"healthcare-lab-ec2-portal-sg","name_prefix":"","owner_id":"804270334491","revoke_rules_on_delete":false,"tags":{"Name":"healthcare-lab-ec2-portal-sg"},"tags_all":{"Name":"healthcare-lab-ec2-portal-sg"},"timeouts":null,"vpc_id":"vpc-0d684dc537c424c39"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_vpc.main"]}]},{"mode":"managed","type":"aws_security_group","name":"ec2_worker_sg","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:security-group/sg-0c4aaa7c3ec87e3c4","description":"Security group for worker EC2 instance","egress":[{"cidr_blocks":["0.0.0.0/0"],"description":"","from_port":0,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"-1","security_groups":[],"self":false,"to_port":0}],"id":"sg-0c4aaa7c3ec87e3c4","ingress":[{"cidr_blocks":["0.0.0.0/0"],"description":"SSH","from_port":22,"ipv6_cidr_blocks":[],"prefix_list_ids":[],"protocol":"tcp","security_groups":[],"self":false,"to_port":22}],"name":"healthcare-lab-ec2-worker-sg","name_prefix":"","owner_id":"804270334491","revoke_rules_on_delete":false,"tags":{"Name":"healthcare-lab-ec2-worker-sg"},"tags_all":{"Name":"healthcare-lab-ec2-worker-sg"},"timeouts":null,"vpc_id":"vpc-0d684dc537c424c39"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwfSwic2NoZW1hX3ZlcnNpb24iOiIxIn0=","dependencies":["aws_vpc.main"]}]},{"mode":"managed","type":"aws_sns_topic","name":"lab_results_ready","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"application_failure_feedback_role_arn":"","application_success_feedback_role_arn":"","application_success_feedback_sample_rate":0,"archive_policy":"","arn":"arn:aws:sns:us-east-1:804270334491:healthcare-lab-lab-results-ready","beginning_archive_time":"","content_based_deduplication":false,"delivery_policy":"","display_name":"","fifo_throughput_scope":"","fifo_topic":false,"firehose_failure_feedback_role_arn":"","firehose_success_feedback_role_arn":"","firehose_success_feedback_sample_rate":0,"http_failure_feedback_role_arn":"","http_success_feedback_role_arn":"","http_success_feedback_sample_rate":0,"id":"arn:aws:sns:us-east-1:804270334491:healthcare-lab-lab-results-ready","kms_master_key_id":"","lambda_failure_feedback_role_arn":"","lambda_success_feedback_role_arn":"","lambda_success_feedback_sample_rate":0,"name":"healthcare-lab-lab-results-ready","name_prefix":"","owner":"804270334491","policy":"{\"Id\":\"__default_policy_ID\",\"Statement\":[{\"Action\":[\"SNS:GetTopicAttributes\",\"SNS:SetTopicAttributes\",\"SNS:AddPermission\",\"SNS:RemovePermission\",\"SNS:DeleteTopic\",\"SNS:Subscribe\",\"SNS:ListSubscriptionsByTopic\",\"SNS:Publish\"],\"Condition\":{\"StringEquals\":{\"AWS:SourceOwner\":\"804270334491\"}},\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"*\"},\"Resource\":\"arn:aws:sns:us-east-1:804270334491:healthcare-lab-lab-results-ready\",\"Sid\":\"__default_statement_ID\"}],\"Version\":\"2008-10-17\"}","signature_version":0,"sqs_failure_feedback_role_arn":"","sqs_success_feedback_role_arn":"","sqs_success_feedback_sample_rate":0,"tags":{"Environment":"dev","Name":"healthcare-lab-lab-results-ready","Purpose":"LabResultsNotification"},"tags_all":{"Environment":"dev","Name":"healthcare-lab-lab-results-ready","Purpose":"LabResultsNotification"},"tracing_config":""},"sensitive_attributes":[],"private":"bnVsbA=="}]},{"mode":"managed","type":"aws_sqs_queue","name":"lab_results_dlq","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-lab-results-dlq","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-lab-results-dlq","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"healthcare-lab-lab-results-dlq","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{},"timeouts":null,"url":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-lab-results-dlq","visibility_timeout_seconds":30},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19","create_before_destroy":true}]},{"mode":"managed","type":"aws_sqs_queue","name":"lab_results_queue","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-lab-results-queue","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-lab-results-queue","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"healthcare-lab-lab-results-queue","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"{\"deadLetterTargetArn\":\"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-lab-results-dlq\",\"maxReceiveCount\":5}","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{},"timeouts":null,"url":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-lab-results-queue","visibility_timeout_seconds":60},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19","dependencies":["aws_sqs_queue.lab_results_dlq"],"create_before_destroy":true}]},{"mode":"managed","type":"aws_sqs_queue","name":"notify_dlq","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-notify-dlq","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-notify-dlq","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"healthcare-lab-notify-dlq","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{},"timeouts":null,"url":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-notify-dlq","visibility_timeout_seconds":30},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19"}]},{"mode":"managed","type":"aws_sqs_queue","name":"notify_queue","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":0,"attributes":{"arn":"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-notify-queue","content_based_deduplication":false,"deduplication_scope":"","delay_seconds":0,"fifo_queue":false,"fifo_throughput_limit":"","id":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-notify-queue","kms_data_key_reuse_period_seconds":300,"kms_master_key_id":"","max_message_size":262144,"message_retention_seconds":345600,"name":"healthcare-lab-notify-queue","name_prefix":"","policy":"","receive_wait_time_seconds":0,"redrive_allow_policy":"","redrive_policy":"{\"deadLetterTargetArn\":\"arn:aws:sqs:us-east-1:804270334491:healthcare-lab-notify-dlq\",\"maxReceiveCount\":5}","sqs_managed_sse_enabled":true,"tags":{},"tags_all":{},"timeouts":null,"url":"https://sqs.us-east-1.amazonaws.com/804270334491/healthcare-lab-notify-queue","visibility_timeout_seconds":60},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjoxODAwMDAwMDAwMDAsImRlbGV0ZSI6MTgwMDAwMDAwMDAwLCJ1cGRhdGUiOjE4MDAwMDAwMDAwMH19","dependencies":["aws_sqs_queue.notify_dlq"]}]},{"mode":"managed","type":"aws_subnet","name":"private_1","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:subnet/subnet-08060d273d50ea476","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.2.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-08060d273d50ea476","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":false,"outpost_arn":"","owner_id":"804270334491","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"healthcare-lab-private-1"},"tags_all":{"Name":"healthcare-lab-private-1"},"timeouts":null,"vpc_id":"vpc-0d684dc537c424c39"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_subnet","name":"public_1","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:subnet/subnet-0bd9b83061bbb25d4","assign_ipv6_address_on_creation":false,"availability_zone":"us-east-1a","availability_zone_id":"use1-az1","cidr_block":"10.0.1.0/24","customer_owned_ipv4_pool":"","enable_dns64":false,"enable_lni_at_device_index":0,"enable_resource_name_dns_a_record_on_launch":false,"enable_resource_name_dns_aaaa_record_on_launch":false,"id":"subnet-0bd9b83061bbb25d4","ipv6_cidr_block":"","ipv6_cidr_block_association_id":"","ipv6_native":false,"map_customer_owned_ip_on_launch":false,"map_public_ip_on_launch":true,"outpost_arn":"","owner_id":"804270334491","private_dns_hostname_type_on_launch":"ip-name","tags":{"Name":"healthcare-lab-public-1"},"tags_all":{"Name":"healthcare-lab-public-1"},"timeouts":null,"vpc_id":"vpc-0d684dc537c424c39"},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6MTIwMDAwMDAwMDAwMH0sInNjaGVtYV92ZXJzaW9uIjoiMSJ9","dependencies":["aws_vpc.main","data.aws_availability_zones.available"]}]},{"mode":"managed","type":"aws_vpc","name":"main","provider":"provider[\"registry.opentofu.org/hashicorp/aws\"]","instances":[{"schema_version":1,"attributes":{"arn":"arn:aws:ec2:us-east-1:804270334491:vpc/vpc-0d684dc537c424c39","assign_generated_ipv6_cidr_block":false,"cidr_block":"10.0.0.0/16","default_network_acl_id":"acl-046f17a018381036b","default_route_table_id":"rtb-0bdd0645a33e3eb53","default_security_group_id":"sg-06c427092a0742425","dhcp_options_id":"dopt-026d3442d40fa1ad1","enable_dns_hostnames":true,"enable_dns_support":true,"enable_network_address_usage_metrics":false,"id":"vpc-0d684dc537c424c39","instance_tenancy":"default","ipv4_ipam_pool_id":null,"ipv4_netmask_length":null,"ipv6_association_id":"","ipv6_cidr_block":"","ipv6_cidr_block_network_border_group":"","ipv6_ipam_pool_id":"","ipv6_netmask_length":0,"main_route_table_id":"rtb-0bdd0645a33e3eb53","owner_id":"804270334491","tags":{"Name":"healthcare-lab-vpc"},"tags_all":{"Name":"healthcare-lab-vpc"}},"sensitive_attributes":[],"private":"eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="}]},{"mode":"managed","type":"random_string","name":"suffix","provider":"provider[\"registry.opentofu.org/hashicorp/random\"]","instances":[{"schema_version":2,"attributes":{"id":"xrn2vm","keepers":null,"length":6,"lower":true,"min_lower":0,"min_numeric":0,"min_special":0,"min_upper":0,"number":true,"numeric":true,"override_special":null,"result":"xrn2vm","special":false,"upper":false},"sensitive_attributes":[]}]}],"check_results":null}
